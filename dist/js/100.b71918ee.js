"use strict";(self["webpackChunkci_ville"]=self["webpackChunkci_ville"]||[]).push([[100],{8562:function(e,t,a){a.d(t,{A:function(){return b}});var n=a(641);const l={id:"sidepanel",class:"d-flex flex-column h-100"},r={class:"row"},s={class:"col-12 col-md-3 d-flex flex-column"},o={class:"col-12 col-sm-9 d-flex flex-column h-100",id:"charts"},u={key:1,class:"msg-else"};function i(e,t,a,i,c,d){const v=(0,n.g2)("Number"),p=(0,n.g2)("ThemeChart"),g=(0,n.g2)("Card"),m=(0,n.g2)("SubThemeChart");return(0,n.uX)(),(0,n.CE)("div",l,[(0,n.Lk)("div",r,[(0,n.Lk)("div",s,[(0,n.bF)(v,{chiffreCle:e.montantSubventions+e.montantFonjep+e.montantAdulteRelais,texte:"Montant engagé (€)"},null,8,["chiffreCle"]),(0,n.bF)(v,{chiffreCle:Math.round(e.montantSubventions),about:"Montant financé sous forme de subvention par le programme 147 - politique de la ville",texte:"dont subventions"},null,8,["chiffreCle"]),(0,n.bF)(v,{chiffreCle:e.montantFonjep,about:"Les aides aux postes Fonjep sont matérialisées par les effectifs présents au 31/12/N enregistrés à date avec les coûts (théoriques) associés.",texte:"dont Fonjep"},null,8,["chiffreCle"]),(0,n.bF)(v,{chiffreCle:e.montantAdulteRelais,about:"Les aides versées dans le cadre du dispositif adultes relais correspondent au nombre de postes théoriques au 31/12/N (postes vacants liés au recrutement et postes non occupés compris) associés au montant forfaitaire annuel de chaque poste.",texte:"dont Adulte-relais"},null,8,["chiffreCle"]),(0,n.bF)(v,{chiffreCle:e.nbActions,texte:"Actions financées",color:c.color.bleuGrandeEquipe},null,8,["chiffreCle","color"]),(0,n.bF)(v,{chiffreCle:e.nbStructures,texte:"Porteurs de projets",color:c.color.bleuGrandeEquipe},null,8,["chiffreCle","color"]),(0,n.bF)(v,{chiffreCle:e.nbFonjep,texte:"Postes Fonjep",color:c.color.bleuGrandeEquipe},null,8,["chiffreCle","color"]),(0,n.bF)(v,{chiffreCle:e.nbAdulteRelais,texte:"Postes Adulte-relais",color:c.color.bleuGrandeEquipe},null,8,["chiffreCle","color"]),(0,n.bF)(v,{chiffreCle:e.population,texte:"Habitants en QPV",color:c.color.bleuGrandeEquipe},null,8,["chiffreCle","color"])]),(0,n.Lk)("div",o,[(0,n.bF)(g,{title:"Répartition subventions par thème de contrat de ville",about:"Sélectionnez un thème pour filtrer les chiffres clés, la carte et la répartition dans les sous-thèmes correspondants"},{default:(0,n.k6)((()=>[(0,n.bF)(p)])),_:1}),(0,n.bF)(g,{title:"Répartition subventions par sous-thème",about:"Survolez chaque barre pour connaître le sous-thème correspondant et la valeur exacte de son montant."},{default:(0,n.k6)((()=>[e.filterTheme?((0,n.uX)(),(0,n.Wv)(m,{key:0})):((0,n.uX)(),(0,n.CE)("span",u,"Sélectionnez un pilier pour voir à la répartition par sous-thème"))])),_:1})])])])}var c=a(7819),d=a(5212),v=a(203),p=a(3068),g=a(6278),m={name:"SidePanel",components:{ThemeChart:c.A,SubThemeChart:d.A,Number:v.A,Card:p.A},computed:{...(0,g.L8)(["nbActions","nbStructures","montantSubventions","montantFonjep","montantAdulteRelais","nbFonjep","nbAdulteRelais","population"]),...(0,g.aH)(["filteredData","filterCode","filterTheme"])},data(){return{color:{roseGrandeEquipe:"#d24b6b",bleuGrandeEquipe:"#5770be"}}}},y=a(6262);const f=(0,y.A)(m,[["render",i],["__scopeId","data-v-79a5193b"]]);var b=f},6196:function(e,t,a){a.d(t,{A:function(){return g}});var n=a(641);const l={class:"table-container"},r={key:1,class:"else-msg"},s=(0,n.Lk)("i",null,"Sélectionnez un territoire pour consulter la liste des actions",-1),o=[s];function u(e,t,a,s,u,i){const c=(0,n.g2)("EasyDataTable");return(0,n.uX)(),(0,n.CE)("div",l,[e.filterCode||"National"==i.route?((0,n.uX)(),(0,n.Wv)(c,{class:"table",id:"table-actions",headers:u.headers,items:e.actionsList,rowsPerPageMessage:"Nombre de lignes par page",themeColor:"#5770be",key:u.renderKey},null,8,["headers","items"])):((0,n.uX)(),(0,n.CE)("span",r,o))])}var i=a(631),c=a(6278),d={components:{EasyDataTable:i.A},data(){return{renderKey:0,headers:[{text:"Libellé de l'action",value:"lib_action",sortable:!0},{text:"Porteur",value:"raison_sociale",sortable:!0},{text:"Objectif",value:"objectif",sortable:!0},{text:"Montant (€)",value:"montant",sortable:!0}]}},computed:{...(0,c.aH)({actionsList:e=>e.filteredData.sort(((e,t)=>e.raison_sociale<t.raison_sociale?-1:e.raison_sociale>t.raison_sociale?1:0)),filterCode:e=>e.filterCode}),route(){return this.$route.name}},watch:{actionsList(){this.reRender()}},methods:{reRender(){this.renderKey++}}},v=a(6262);const p=(0,v.A)(d,[["render",u]]);var g=p},631:function(e,t,a){a.d(t,{A:function(){return Ae}});var n=a(641),l=a(3751),r=a(953),s=a(33),o=Object.defineProperty,u=Object.defineProperties,i=Object.getOwnPropertyDescriptors,c=Object.getOwnPropertySymbols,d=Object.prototype.hasOwnProperty,v=Object.prototype.propertyIsEnumerable,p=(e,t,a)=>t in e?o(e,t,{enumerable:!0,configurable:!0,writable:!0,value:a}):e[t]=a,g=(e,t)=>{for(var a in t||(t={}))d.call(t,a)&&p(e,a,t[a]);if(c)for(var a of c(t))v.call(t,a)&&p(e,a,t[a]);return e},m=(e,t)=>u(e,i(t)),y=(e,t)=>{const a=e.__vccOpts||e;for(const[n,l]of t)a[n]=l;return a};const f=e=>((0,n.Qi)("data-v-e0a0b7f0"),e=e(),(0,n.jt)(),e),b=["onClick"],h=["checked"],x=f((()=>(0,n.Lk)("label",{for:"checbox"},null,-1))),P=(0,n.pM)({__name:"MultipleSelectCheckBox",props:{status:{type:String,required:!0}},emits:["change"],setup(e,{emit:t}){const a=e;(0,l.$9)((e=>({"51ab8a49":(0,r.R1)(i)})));const o=(0,n.EW)((()=>"allSelected"===a.status)),u=()=>{t("change",!o.value)},i=(0,n.WQ)("themeColor");return(t,a)=>((0,n.uX)(),(0,n.CE)("div",{class:"easy-checkbox",onClick:(0,l.D$)(u,["stop","prevent"])},[(0,n.Lk)("input",{type:"checkbox",checked:(0,r.R1)(o),class:(0,s.C4)(e.status)},null,10,h),x],8,b))}});var C=y(P,[["__scopeId","data-v-e0a0b7f0"]]);const R=e=>((0,n.Qi)("data-v-7e69a276"),e=e(),(0,n.jt)(),e),k=["checked"],w=R((()=>(0,n.Lk)("label",{for:"checbox"},null,-1))),N=(0,n.pM)({__name:"SingleSelectCheckBox",props:{checked:{type:Boolean,required:!0}},emits:["change"],setup(e,{emit:t}){(0,l.$9)((e=>({fdaf7e9e:(0,r.R1)(a)})));const a=(0,n.WQ)("themeColor");return(a,r)=>((0,n.uX)(),(0,n.CE)("div",{class:"easy-checkbox",onClick:r[0]||(r[0]=(0,l.D$)((e=>t("change")),["stop","prevent"]))},[(0,n.Lk)("input",{type:"checkbox",checked:e.checked},null,8,k),w]))}});var E=y(N,[["__scopeId","data-v-7e69a276"]]);const _=e=>((0,n.Qi)("data-v-4ca5de3a"),e=e(),(0,n.jt)(),e),S={class:"easy-data-table__rows-selector"},I={class:"rows-input"},B=_((()=>(0,n.Lk)("div",{class:"triangle"},null,-1))),A=["onClick"],L=(0,n.pM)({__name:"RowsSelector",props:{modelValue:{type:Number,required:!0},rowsItems:{type:Array,required:!0}},emits:["update:modelValue"],setup(e,{emit:t}){const a=e;(0,l.$9)((e=>({"1b889342":(0,r.R1)(g)})));const o=(0,r.KR)(!1),u=(0,r.KR)(!1),i=(0,n.WQ)("dataTable");(0,n.wB)(o,(e=>{if(e&&i){const e=window.innerHeight,t=i.value.getBoundingClientRect().height,a=i.value.getBoundingClientRect().top;u.value=e-(t+a)<=100}}));const c=(0,n.EW)({get:()=>a.modelValue,set:e=>{t("update:modelValue",e)}}),d=e=>{c.value=e,o.value=!1},v=(e,t)=>{let a=e.parentNode;while(null!=a){if(a.classList&&a.classList.contains(t))return!0;a=a.parentNode}return!1},p=e=>{v(e.target,"easy-data-table__rows-selector")||(o.value=!1)};(0,n.sV)((()=>{document.addEventListener("click",p)})),(0,n.xo)((()=>{document.removeEventListener("click",p)}));const g=(0,n.WQ)("themeColor");return(t,a)=>((0,n.uX)(),(0,n.CE)("div",S,[(0,n.Lk)("div",{class:"rows-input__wrapper",onClick:a[0]||(a[0]=e=>o.value=!o.value)},[(0,n.Lk)("div",I,(0,s.v_)((0,r.R1)(c)),1),B]),(0,n.Lk)("ul",{class:(0,s.C4)(["select-items",{show:o.value,inside:u.value}])},[((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(e.rowsItems,(e=>((0,n.uX)(),(0,n.CE)("li",{key:e,class:(0,s.C4)({selected:e===(0,r.R1)(c)}),onClick:t=>d(e)},(0,s.v_)(e),11,A)))),128))],2)]))}});var W=y(L,[["__scopeId","data-v-4ca5de3a"]]);const F=e=>((0,n.Qi)("data-v-1fa3a520"),e=e(),(0,n.jt)(),e),T={class:"lds-ring"},O=F((()=>(0,n.Lk)("div",null,null,-1))),X=F((()=>(0,n.Lk)("div",null,null,-1))),$=F((()=>(0,n.Lk)("div",null,null,-1))),M=F((()=>(0,n.Lk)("div",null,null,-1))),j=[O,X,$,M],D=(0,n.pM)({__name:"Loading",setup(e){(0,l.$9)((e=>({26774109:(0,r.R1)(t)})));const t=(0,n.WQ)("themeColor");return(e,t)=>((0,n.uX)(),(0,n.CE)("div",T,j))}});var Q=y(D,[["__scopeId","data-v-1fa3a520"]]);const G={class:"loader-line"},q=(0,n.pM)({__name:"LoadingLine",setup(e){(0,l.$9)((e=>({"0d327f57":(0,r.R1)(t)})));const t=(0,n.WQ)("themeColor");return(e,t)=>((0,n.uX)(),(0,n.CE)("div",G))}});var K=y(q,[["__scopeId","data-v-7d281cac"]]);const H={class:"buttons-pagination"},V=["onClick"],J=(0,n.pM)({__name:"ButtonsPagination",props:{maxPaginationNumber:{type:Number,required:!0},currentPaginationNumber:{type:Number,required:!0}},emits:["updatePage"],setup(e,{emit:t}){const a=e;(0,l.$9)((e=>({"40dd4f07":(0,r.R1)(c)})));const o=7,u=e=>{"button"!==e.type||e.active||t("updatePage",e.page)},i=(0,n.EW)((()=>{const e=[];if(a.maxPaginationNumber<=o)for(let t=1;t<=a.maxPaginationNumber;t+=1)e.push({type:"button",page:t,active:t===a.currentPaginationNumber,activePrev:t+1===a.currentPaginationNumber});else if([1,2,a.maxPaginationNumber,a.maxPaginationNumber-1].includes(a.currentPaginationNumber))for(let t=1;t<=o;t+=1)if(t<=3)e.push({type:"button",page:t,active:t===a.currentPaginationNumber,activePrev:t+1===a.currentPaginationNumber});else if(4===t)e.push({type:"omission"});else{const n=a.maxPaginationNumber-(o-t);e.push({type:"button",page:n,active:n===a.currentPaginationNumber,activePrev:n+1===a.currentPaginationNumber})}else if([3,4].includes(a.currentPaginationNumber))for(let t=1;t<=o;t+=1)t<=5?e.push({type:"button",page:t,active:t===a.currentPaginationNumber,activePrev:t+1===a.currentPaginationNumber}):6===t?e.push({type:"omission"}):e.push({type:"button",page:a.maxPaginationNumber,active:a.maxPaginationNumber===a.currentPaginationNumber,activePrev:t+1===a.currentPaginationNumber});else if([a.maxPaginationNumber-2,a.maxPaginationNumber-3].includes(a.currentPaginationNumber))for(let t=1;t<=o;t+=1)if(1===t)e.push({type:"button",page:1,active:1===a.currentPaginationNumber,activePrev:t+1===a.currentPaginationNumber});else if(2===t)e.push({type:"omission"});else{const n=a.maxPaginationNumber-(o-t);e.push({type:"button",page:n,active:n===a.currentPaginationNumber,activePrev:n+1===a.currentPaginationNumber})}else for(let t=1;t<=o;t+=1)if(1===t)e.push({type:"button",page:1,active:1===a.currentPaginationNumber,activePrev:t+1===a.currentPaginationNumber});else if(2===t||6===t)e.push({type:"omission"});else if(7===t)e.push({type:"button",page:a.maxPaginationNumber,active:a.maxPaginationNumber===a.currentPaginationNumber,activePrev:t+1===a.currentPaginationNumber});else{const n=4-t,l=a.currentPaginationNumber-n;e.push({type:"button",page:l,active:l===a.currentPaginationNumber,activePrev:l+1===a.currentPaginationNumber})}return e})),c=(0,n.WQ)("themeColor");return(e,t)=>((0,n.uX)(),(0,n.CE)("div",H,[((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)((0,r.R1)(i),((e,t)=>((0,n.uX)(),(0,n.CE)("div",{key:t,class:(0,s.C4)(["item",{button:"button"===e.type,active:"button"===e.type&&e.active,"active-prev":"button"===e.type&&e.activePrev,omission:"omission"===e.type}]),onClick:t=>u(e)},(0,s.v_)("button"===e.type?e.page:"..."),11,V)))),128))]))}});var z=y(J,[["__scopeId","data-v-4c681fa2"]]);const U=e=>((0,n.Qi)("data-v-c9da5286"),e=e(),(0,n.jt)(),e),Y=U((()=>(0,n.Lk)("span",{class:"arrow arrow-right"},null,-1))),Z=[Y],ee=U((()=>(0,n.Lk)("span",{class:"arrow arrow-left"},null,-1))),te=[ee],ae=(0,n.pM)({__name:"PaginationArrows",props:{isFirstPage:{type:Boolean,required:!1},isLastPage:{type:Boolean,required:!1}},emits:["clickPrevPage","clickNextPage"],setup(e,{emit:t}){const a=(0,n.Ht)();return(l,o)=>((0,n.uX)(),(0,n.CE)(n.FK,null,[(0,n.Lk)("div",{class:(0,s.C4)(["previous-page__click-button",{"first-page":e.isFirstPage}]),onClick:o[0]||(o[0]=e=>t("clickPrevPage"))},Z,2),(0,r.R1)(a).buttonsPagination?(0,n.RG)(l.$slots,"buttonsPagination",{key:0},void 0,!0):(0,n.Q3)("",!0),(0,n.Lk)("div",{class:(0,s.C4)(["next-page__click-button",{"last-page":e.isLastPage}]),onClick:o[1]||(o[1]=e=>t("clickNextPage"))},te,2)],64))}});var ne=y(ae,[["__scopeId","data-v-c9da5286"]]);function le(e,t,a,n){const l=(l,r,s)=>{if(e.value!==r)return;const o=g({},l);if(t.value){const{checkbox:e}=l;delete o.checkbox,o.isSelected=e}if(a.value){const{index:e}=l;delete o.index,o.indexInCurrentPage=e}n("clickRow",o,s)};return{clickRow:l}}function re(e,t,a){const n=(0,r.KR)([]),l=(l,r,s)=>{s.stopPropagation();const o=n.value.indexOf(l);if(-1!==o)n.value.splice(o,1);else{const l=e.value.findIndex((e=>JSON.stringify(e)===JSON.stringify(r)));a("expandRow",t.value+l,r),n.value.push(t.value+l)}},s=()=>{n.value=[]};return{expandingItemIndexList:n,updateExpandingItemIndexList:l,clearExpandingItemIndexList:s}}function se(e){const t=(0,n.EW)((()=>e.value.filter((e=>e.fixed)))),a=(0,n.EW)((()=>t.value.length?t.value[t.value.length-1].value:"")),l=(0,n.EW)((()=>{if(!t.value.length)return[];const e=t.value.map((e=>{var t;return null!=(t=e.width)?t:100}));return t.value.map(((t,a)=>{var n,l;return{value:t.value,fixed:null==(n=t.fixed)||n,width:null!=(l=t.width)?l:100,distance:0===a?0:e.reduce(((e,t,n)=>{let l=e;return n<a&&(l+=t),l}))}}))}));return{fixedHeaders:t,lastFixedColumn:a,fixedColumnsInfos:l}}function oe(e,t,a,l,s,o,u,i,c,d,v,p,g,m,y,f,b,h,x){const P=(0,n.EW)((()=>-1!==u.value.findIndex((e=>e.fixed)))),C=(0,n.EW)((()=>P.value?u.value.filter((e=>e.fixed)):[])),R=(0,n.EW)((()=>u.value.filter((e=>!e.fixed)))),k=(e,t)=>Array.isArray(e)&&Array.isArray(t)?{sortBy:e,sortDesc:t.map((e=>"desc"===e))}:""!==e?{sortBy:y.value,sortDesc:"desc"===f.value}:null,w=(0,r.KR)(k(y.value,f.value)),N=(0,n.EW)((()=>{var n;const r=[...C.value,...R.value],u=r.map((e=>{const t=Object.assign(e);if(t.sortable&&(t.sortType="none"),g.value)if(Array.isArray(g.value.sortBy)&&Array.isArray(g.value.sortType)&&g.value.sortBy.includes(t.value)){const e=g.value.sortBy.indexOf(t.value);t.sortType=g.value.sortType[e]}else t.value===g.value.sortBy&&g.value.sortType&&(t.sortType=g.value.sortType);if(w.value&&Array.isArray(w.value.sortBy)&&Array.isArray(w.value.sortDesc)&&w.value.sortBy.includes(t.value)){const e=w.value.sortBy.indexOf(t.value);t.sortType=w.value.sortDesc[e]?"desc":"asc"}else w.value&&t.value===w.value.sortBy&&(t.sortType=w.value.sortDesc?"desc":"asc");return t}));let v=[];if(i.value){const e=s.value||P.value?{text:"",value:"expand",fixed:!0,width:a.value}:{text:"",value:"expand"};v=[e,...u]}else v=u;let p=[];if(m.value){const t=o.value||P.value?{text:e.value,value:"index",fixed:!0,width:c.value}:{text:e.value,value:"index"};p=[t,...v]}else p=v;let y=[];if(d.value){const e=l.value||P.value?{text:"checkbox",value:"checkbox",fixed:!0,width:null!=(n=t.value)?n:36}:{text:"checkbox",value:"checkbox"};y=[e,...p]}else y=p;return y})),E=(0,n.EW)((()=>N.value.map((e=>e.value)))),_=(e,t)=>{let a=null;if(a="none"===t?"asc":"asc"===t?"desc":p.value?"asc":null,v.value&&h(e,a),w.value&&Array.isArray(w.value.sortBy)&&Array.isArray(w.value.sortDesc)){const t=w.value.sortBy.indexOf(e);-1===t?null!==a&&(w.value.sortBy.push(e),w.value.sortDesc.push("desc"===a)):null===a?(w.value.sortDesc.splice(t,1),w.value.sortBy.splice(t,1)):w.value.sortDesc[t]="desc"===a}else w.value=null===a?null:{sortBy:e,sortDesc:"desc"===a};x("updateSort",{sortType:a,sortBy:e})},S=e=>g.value&&Array.isArray(g.value.sortBy)?g.value.sortBy.includes(e):!(!w.value||!Array.isArray(w.value.sortBy))&&w.value.sortBy.includes(e),I=e=>g.value&&Array.isArray(g.value.sortBy)?g.value.sortBy.indexOf(e)+1:!(!w.value||!Array.isArray(w.value.sortBy))&&w.value.sortBy.indexOf(e)+1;return{clientSortOptions:w,headerColumns:E,headersForRender:N,updateSortField:_,isMultiSorting:S,getMultiSortNumber:I}}function ue(e,t,a,l,r,s,o,u,i){const c=(0,n.EW)((()=>(e.value-1)*r.value+1)),d=(0,n.EW)((()=>a.value?Math.min(i.value,e.value*r.value):Math.min(u.value.length,e.value*r.value))),v=(0,n.EW)((()=>a.value?l.value:u.value.slice(c.value-1,d.value))),p=(0,n.EW)((()=>o.value?v.value.map(((e,t)=>g({index:c.value+t},e))):v.value)),m=(0,n.EW)((()=>{if(0===s.value.length)return"noneSelected";const e=s.value.every((e=>-1===u.value.findIndex((t=>JSON.stringify(e)===JSON.stringify(t)))));if(e)return"noneSelected";if(s.value.length===u.value.length){const e=s.value.every((e=>-1!==u.value.findIndex((t=>JSON.stringify(e)===JSON.stringify(t)))));return e?"allSelected":"partSelected"}return"partSelected"})),y=(0,n.EW)((()=>t.value?"allSelected"===m.value?p.value.map((e=>g({checkbox:!0},e))):"noneSelected"===m.value?p.value.map((e=>g({checkbox:!1},e))):p.value.map((e=>{const t=-1!==s.value.findIndex((t=>{const a=g({},e);return delete a.index,JSON.stringify(t)===JSON.stringify(a)}));return g({checkbox:t},e)})):p.value));return{currentPageFirstIndex:c,currentPageLastIndex:d,multipleSelectStatus:m,pageItems:y}}function ie(e,t,a,l,s,o,u){const i=(0,r.KR)(o.value?o.value.page:e.value),c=(0,n.EW)((()=>Math.ceil(l.value/s.value))),d=(0,n.EW)((()=>0===c.value||i.value===c.value)),v=(0,n.EW)((()=>1===i.value)),p=()=>{if(0!==l.value&&!d.value&&!a.value)if(t.value){const e=i.value+1;u(e)}else i.value+=1},g=()=>{if(0!==l.value&&!v.value&&!a.value)if(t.value){const e=i.value-1;u(e)}else i.value-=1},m=e=>{a.value||(t.value?u(e):i.value=e)},y=e=>{i.value=e};return{currentPaginationNumber:i,maxPaginationNumber:c,isLastPage:d,isFirstPage:v,nextPage:p,prevPage:g,updatePage:m,updateCurrentPaginationNumber:y}}function ce(e,t,a,l){const s=(0,n.EW)((()=>e.value||-1!==t.value.findIndex((e=>e===l.value))?t.value:[l.value,...t.value])),o=(0,r.KR)(a.value?a.value.rowsPerPage:l.value),u=e=>{o.value=e};return{rowsItemsComputed:s,rowsPerPageRef:o,updateRowsPerPage:u}}function de(e,t,a){const l=(0,n.EW)({get:()=>{if(e.value){const{page:t,rowsPerPage:a,sortBy:n,sortType:l}=e.value;return{page:t,rowsPerPage:a,sortBy:null!=n?n:null,sortType:null!=l?l:null}}return null},set:e=>{a("update:serverOptions",e)}}),r=e=>{l.value&&(l.value=m(g({},l.value),{page:e}))},s=e=>{l.value&&(l.value=m(g({},l.value),{page:1,rowsPerPage:e}))},o=(e,a)=>{if(l.value)if(t.value&&Array.isArray(l.value.sortBy)&&Array.isArray(l.value.sortType)){const t=l.value.sortBy.findIndex((t=>t===e));-1===t&&null!==a&&(l.value.sortBy.push(e),l.value.sortType.push(a)),null===a?(l.value.sortBy.splice(t,1),l.value.sortType.splice(t,1)):l.value.sortType[t]=a}else l.value=m(g({},l.value),{sortBy:null!==a?e:null,sortType:a})};return{serverOptionsComputed:l,updateServerOptionsPage:r,updateServerOptionsSort:o,updateServerOptionsRowsPerPage:s}}function ve(e,t){var a;if(e.includes(".")){const a=e.split("."),{length:n}=a;let l,r=0;while(r<n){if(0===r)l=t[a[0]];else{if(!l||"object"!==typeof l){l="";break}l=l[a[r]]}r+=1}return null!=l?l:""}return null!=(a=t[e])?a:""}function pe(e,t){const a=ve(e,t);return Array.isArray(a)?a.join(","):a}function ge(e,t,a,l,r,s,o,u,i,c){const d=e=>{if("string"===typeof s.value&&""!==s.value)return ve(s.value,e);if(Array.isArray(s.value)){let t="";return s.value.forEach((a=>{t+=ve(a,e)})),t}return Object.values(e).join(" ")},v=(0,n.EW)((()=>{if(!a.value&&""!==o.value){const e=new RegExp(o.value,"i");return l.value.filter((t=>e.test(d(t))))}return l.value})),p=(0,n.EW)((()=>{let e=[...v.value];return t.value?(t.value.forEach((t=>{e=e.filter((e=>{const{field:a,comparison:n,criteria:l}=t;if("function"===typeof n)return n(ve(a,e),l);const r=ve(a,e);switch(n){case"=":return r===l;case"!=":return r!==l;case">":return r>l;case"<":return r<l;case"<=":return r<=l;case">=":return r>=l;case"between":return r>=Math.min(...l)&&r<=Math.max(...l);case"in":return l.includes(r);default:return r===l}}))})),e):v.value}));function g(e,t,a,n){const l=e[n],r=t[n],s=(0===n?a:g(e,t,a,n-1)).sort(((t,a)=>{let s=!0;for(let l=0;l<n;l+=1)if(ve(e[l],t)!==ve(e[l],a)){s=!1;break}return s?ve(l,t)<ve(l,a)?r?1:-1:ve(l,t)>ve(l,a)?r?-1:1:0:0}));return s}(0,n.wB)(p,(e=>{t.value&&c("updateFilter",e)}),{immediate:!0,deep:!0});const m=(0,n.EW)((()=>{if(a.value)return l.value;if(null===e.value)return p.value;const{sortBy:t,sortDesc:n}=e.value,r=[...p.value];return i&&Array.isArray(t)&&Array.isArray(n)?0===t.length?r:g(t,n,r,t.length-1):r.sort(((e,a)=>ve(t,e)<ve(t,a)?n?1:-1:ve(t,e)>ve(t,a)?n?-1:1:0))})),y=(0,n.EW)((()=>a.value?u.value:m.value.length)),f=(0,n.EW)({get:()=>{var e;return null!=(e=r.value)?e:[]},set:e=>{c("update:itemsSelected",e)}}),b=e=>{f.value=e?m.value:[],e&&c("selectAll")},h=e=>{const t=e.checkbox;if(delete e.checkbox,delete e.index,t)f.value=f.value.filter((t=>JSON.stringify(t)!==JSON.stringify(e))),c("deselectRow",e);else{const t=f.value;t.unshift(e),f.value=t,c("selectRow",e)}};return{totalItems:m,selectItemsComputed:f,totalItemsLength:y,toggleSelectAll:b,toggleSelectItem:h}}var me={alternating:{type:Boolean,default:!1},buttonsPagination:{type:Boolean,default:!1},checkboxColumnWidth:{type:Number,default:null},currentPage:{type:Number,default:1},emptyMessage:{type:String,default:"No Available Data"},expandColumnWidth:{type:Number,default:36},filterOptions:{type:Array,default:null},fixedExpand:{type:Boolean,default:!1},fixedHeader:{type:Boolean,default:!0},fixedCheckbox:{type:Boolean,default:!1},fixedIndex:{type:Boolean,default:!1},headerTextDirection:{type:String,default:"left"},bodyTextDirection:{type:String,default:"left"},hideFooter:{type:Boolean,default:!1},hideRowsPerPage:{type:Boolean,default:!1},hideHeader:{type:Boolean,default:!1},indexColumnWidth:{type:Number,default:60},itemsSelected:{type:Array,default:null},loading:{type:Boolean,default:!1},rowsPerPage:{type:Number,default:25},rowsItems:{type:Array,default:()=>[25,50,100]},rowsPerPageMessage:{type:String,default:"rows per page:"},searchField:{type:[String,Array],default:""},searchValue:{type:String,default:""},serverOptions:{type:Object,default:null},serverItemsLength:{type:Number,default:0},showIndex:{type:Boolean,default:!1},sortBy:{type:[String,Array],default:""},sortType:{type:[String,Array],default:"asc"},multiSort:{type:Boolean,default:!1},tableMinHeight:{type:Number,default:180},tableHeight:{type:Number,default:null},themeColor:{type:String,default:"#42b883"},tableClassName:{type:String,default:""},headerClassName:{type:String,default:""},headerItemClassName:{type:[Function,String],default:""},bodyRowClassName:{type:[Function,String],default:""},bodyExpandRowClassName:{type:[Function,String],default:""},bodyItemClassName:{type:[Function,String],default:""},noHover:{type:Boolean,default:!1},borderCell:{type:Boolean,default:!1},mustSort:{type:Boolean,default:!1},rowsOfPageSeparatorMessage:{type:String,default:"of"},clickEventType:{type:String,default:"single"},clickRowToExpand:{type:Boolean,default:!1},tableNodeId:{type:String,default:""},showIndexSymbol:{type:String,default:"#"},preventContextMenuRow:{type:Boolean,default:!0}};const ye=e=>((0,n.Qi)("data-v-32683533"),e=e(),(0,n.jt)(),e),fe=["id"],be=["onClick"],he={key:3,class:"header-text"},xe={key:5,class:"multi-sort__number"},Pe=["onClick","onDblclick","onContextmenu"],Ce=["onClick"],Re=["colspan"],ke={key:0,class:"vue3-easy-data-table__loading"},we=ye((()=>(0,n.Lk)("div",{class:"vue3-easy-data-table__loading-mask"},null,-1))),Ne={class:"loading-entity"},Ee={key:1,class:"vue3-easy-data-table__message"},_e={key:0,class:"vue3-easy-data-table__footer"},Se={key:0,class:"pagination__rows-per-page"},Ie={class:"pagination__items-index"},Be=(0,n.pM)({__name:"DataTable",props:m(g({},me),{items:{type:Array,required:!0},headers:{type:Array,required:!0}}),emits:["clickRow","contextmenuRow","selectRow","deselectRow","expandRow","updateSort","updateFilter","update:itemsSelected","update:serverOptions","updatePageItems","updateTotalItems","selectAll"],setup(e,{expose:t,emit:a}){const o=e;(0,l.$9)((e=>({da0d4328:(0,r.R1)(V),"3037e504":(0,r.R1)(H)})));const{tableNodeId:u,clickEventType:i,bodyTextDirection:c,checkboxColumnWidth:d,currentPage:v,expandColumnWidth:p,filterOptions:g,fixedCheckbox:m,fixedExpand:y,fixedHeader:f,fixedIndex:b,headers:h,headerTextDirection:x,indexColumnWidth:P,items:R,itemsSelected:k,loading:w,mustSort:N,multiSort:_,rowsItems:S,rowsPerPage:I,searchField:B,searchValue:A,serverItemsLength:L,serverOptions:F,showIndex:T,sortBy:O,sortType:X,tableHeight:$,tableMinHeight:M,themeColor:j,rowsOfPageSeparatorMessage:D,showIndexSymbol:G,preventContextMenuRow:q}=(0,r.QW)(o),H=(0,n.EW)((()=>$.value?`${$.value}px`:null)),V=(0,n.EW)((()=>`${M.value}px`));(0,n.Gt)("themeColor",j.value);const J=(0,n.Ht)(),U=(0,n.EW)((()=>!!J.pagination)),Y=(0,n.EW)((()=>!!J.loading)),Z=(0,n.EW)((()=>!!J.expand)),ee=(0,n.EW)((()=>!!J.body)),te=(0,r.KR)(),ae=(0,r.KR)();(0,n.Gt)("dataTable",te);const ve=(0,r.KR)(!1);(0,n.sV)((()=>{ae.value.addEventListener("scroll",(()=>{ve.value=ae.value.scrollLeft>0}))}));const me=(0,n.EW)((()=>null!==k.value)),ye=(0,n.EW)((()=>null!==F.value)),{serverOptionsComputed:Be,updateServerOptionsPage:Ae,updateServerOptionsSort:Le,updateServerOptionsRowsPerPage:We}=de(F,_,a),{clientSortOptions:Fe,headerColumns:Te,headersForRender:Oe,updateSortField:Xe,isMultiSorting:$e,getMultiSortNumber:Me}=oe(G,d,p,m,y,b,h,Z,P,me,ye,N,Be,T,O,X,_,Le,a),{rowsItemsComputed:je,rowsPerPageRef:De,updateRowsPerPage:Qe}=ce(ye,S,F,I),{totalItems:Ge,selectItemsComputed:qe,totalItemsLength:Ke,toggleSelectAll:He,toggleSelectItem:Ve}=ge(Fe,g,ye,R,k,B,A,L,_,a),{currentPaginationNumber:Je,maxPaginationNumber:ze,isLastPage:Ue,isFirstPage:Ye,nextPage:Ze,prevPage:et,updatePage:tt,updateCurrentPaginationNumber:at}=ie(v,ye,w,Ke,De,F,Ae),{currentPageFirstIndex:nt,currentPageLastIndex:lt,multipleSelectStatus:rt,pageItems:st}=ue(Je,me,ye,R,De,qe,T,Ge,Ke),ot=(0,n.EW)((()=>0===Je.value?0:(Je.value-1)*De.value)),{expandingItemIndexList:ut,updateExpandingItemIndexList:it,clearExpandingItemIndexList:ct}=re(st,ot,a),{fixedHeaders:dt,lastFixedColumn:vt,fixedColumnsInfos:pt}=se(Oe),{clickRow:gt}=le(i,me,T,a),mt=(e,t)=>{q.value&&t.preventDefault(),a("contextmenuRow",e,t)},yt=e=>{var t;const a=null!=(t=e.width)?t:dt.value.length?100:null;if(a)return`width: ${a}px; min-width: ${a}px;`},ft=(e,t="th")=>{if(!dt.value.length)return;const a=pt.value.find((t=>t.value===e));return a?`left: ${a.distance}px;z-index: ${"th"===t?3:1};position: sticky;`:void 0};return(0,n.wB)(w,((e,t)=>{Be.value&&!1===e&&!0===t&&(at(Be.value.page),ct())})),(0,n.wB)(De,(e=>{ye.value?We(e):tt(1)})),(0,n.wB)([A,g],(()=>{ye.value||tt(1)})),(0,n.wB)([Je,Fe,B,A,g],(()=>{ct()}),{deep:!0}),(0,n.wB)(st,(e=>{a("updatePageItems",e)}),{deep:!0}),(0,n.wB)(Ge,(e=>{a("updateTotalItems",e)}),{deep:!0}),t({currentPageFirstIndex:nt,currentPageLastIndex:lt,clientItemsLength:Ke,maxPaginationNumber:ze,currentPaginationNumber:Je,isLastPage:Ue,isFirstPage:Ye,nextPage:Ze,prevPage:et,updatePage:tt,rowsPerPageOptions:je,rowsPerPageActiveOption:De,updateRowsPerPageActiveOption:Qe}),(e,t)=>((0,n.uX)(),(0,n.CE)("div",{ref_key:"dataTable",ref:te,class:(0,s.C4)(["vue3-easy-data-table",[e.tableClassName]])},[(0,n.Lk)("div",{ref_key:"tableBody",ref:ae,class:(0,s.C4)(["vue3-easy-data-table__main",{"fixed-header":(0,r.R1)(f),"fixed-height":(0,r.R1)($),"show-shadow":ve.value,"table-fixed":(0,r.R1)(dt).length,hoverable:!e.noHover,"border-cell":e.borderCell}])},[(0,n.Lk)("table",{id:(0,r.R1)(u)},[(0,n.Lk)("colgroup",null,[((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)((0,r.R1)(Oe),((e,t)=>((0,n.uX)(),(0,n.CE)("col",{key:t,style:(0,s.Tr)(yt(e))},null,4)))),128))]),(0,r.R1)(J)["customize-headers"]?(0,n.RG)(e.$slots,"customize-headers",{key:0},void 0,!0):(0,r.R1)(Oe).length&&!e.hideHeader?((0,n.uX)(),(0,n.CE)("thead",{key:1,class:(0,s.C4)(["vue3-easy-data-table__header",[e.headerClassName]])},[(0,n.Lk)("tr",null,[((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)((0,r.R1)(Oe),((t,a)=>((0,n.uX)(),(0,n.CE)("th",{key:a,class:(0,s.C4)([{sortable:t.sortable,none:t.sortable&&"none"===t.sortType,desc:t.sortable&&"desc"===t.sortType,asc:t.sortable&&"asc"===t.sortType,shadow:t.value===(0,r.R1)(vt)},"string"===typeof e.headerItemClassName?e.headerItemClassName:e.headerItemClassName(t,a+1)]),style:(0,s.Tr)(ft(t.value)),onClick:(0,l.D$)((e=>t.sortable&&t.sortType?(0,r.R1)(Xe)(t.value,t.sortType):null),["stop"])},["checkbox"===t.text?((0,n.uX)(),(0,n.Wv)(C,{key:(0,r.R1)(rt),status:(0,r.R1)(rt),onChange:(0,r.R1)(He)},null,8,["status","onChange"])):((0,n.uX)(),(0,n.CE)("span",{key:1,class:(0,s.C4)(["header",`direction-${(0,r.R1)(x)}`])},[(0,r.R1)(J)[`header-${t.value}`]?(0,n.RG)(e.$slots,`header-${t.value}`,(0,s._B)((0,n.v6)({key:0},t)),void 0,!0):(0,r.R1)(J)[`header-${t.value.toLowerCase()}`]?(0,n.RG)(e.$slots,`header-${t.value.toLowerCase()}`,(0,s._B)((0,n.v6)({key:1},t)),void 0,!0):(0,r.R1)(J)["header"]?(0,n.RG)(e.$slots,"header",(0,s._B)((0,n.v6)({key:2},t)),void 0,!0):((0,n.uX)(),(0,n.CE)("span",he,(0,s.v_)(t.text),1)),t.sortable?((0,n.uX)(),(0,n.CE)("i",{key:t.sortType?t.sortType:"none",class:(0,s.C4)(["sortType-icon",{desc:"desc"===t.sortType}])},null,2)):(0,n.Q3)("",!0),(0,r.R1)(_)&&(0,r.R1)($e)(t.value)?((0,n.uX)(),(0,n.CE)("span",xe,(0,s.v_)((0,r.R1)(Me)(t.value)),1)):(0,n.Q3)("",!0)],2))],14,be)))),128))])],2)):(0,n.Q3)("",!0),(0,r.R1)(ee)?(0,n.RG)(e.$slots,"body",(0,s._B)((0,n.v6)({key:2},(0,r.R1)(st))),void 0,!0):(0,r.R1)(Te).length?((0,n.uX)(),(0,n.CE)("tbody",{key:3,class:(0,s.C4)(["vue3-easy-data-table__body",{"row-alternation":e.alternating}])},[(0,n.RG)(e.$slots,"body-prepend",(0,s._B)((0,n.Ng)({items:(0,r.R1)(st),pagination:{isFirstPage:(0,r.R1)(Ye),isLastPage:(0,r.R1)(Ue),currentPaginationNumber:(0,r.R1)(Je),maxPaginationNumber:(0,r.R1)(ze),nextPage:(0,r.R1)(Ze),prevPage:(0,r.R1)(et)},headers:(0,r.R1)(Oe)})),void 0,!0),((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)((0,r.R1)(st),((t,a)=>((0,n.uX)(),(0,n.CE)(n.FK,{key:a},[(0,n.Lk)("tr",{class:(0,s.C4)([{"even-row":(a+1)%2===0},"string"===typeof e.bodyRowClassName?e.bodyRowClassName:e.bodyRowClassName(t,a+1)]),onClick:n=>{(0,r.R1)(gt)(t,"single",n),e.clickRowToExpand&&(0,r.R1)(it)(a+(0,r.R1)(ot),t,n)},onDblclick:e=>{(0,r.R1)(gt)(t,"double",e)},onContextmenu:e=>{mt(t,e)}},[((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)((0,r.R1)(Te),((l,o)=>((0,n.uX)(),(0,n.CE)("td",{key:o,style:(0,s.Tr)(ft(l,"td")),class:(0,s.C4)([{shadow:l===(0,r.R1)(vt),"can-expand":"expand"===l},"string"===typeof e.bodyItemClassName?e.bodyItemClassName:e.bodyItemClassName(l,a+1),`direction-${(0,r.R1)(c)}`]),onClick:e=>"expand"===l?(0,r.R1)(it)(a+(0,r.R1)(ot),t,e):null},[(0,r.R1)(J)[`item-${l}`]?(0,n.RG)(e.$slots,`item-${l}`,(0,s._B)((0,n.v6)({key:0},t)),void 0,!0):(0,r.R1)(J)[`item-${l.toLowerCase()}`]?(0,n.RG)(e.$slots,`item-${l.toLowerCase()}`,(0,s._B)((0,n.v6)({key:1},t)),void 0,!0):"expand"===l?((0,n.uX)(),(0,n.CE)("i",{key:2,class:(0,s.C4)(["expand-icon",{expanding:(0,r.R1)(ut).includes((0,r.R1)(ot)+a)}])},null,2)):"checkbox"===l?((0,n.uX)(),(0,n.Wv)(E,{key:3,checked:t[l],onChange:e=>(0,r.R1)(Ve)(t)},null,8,["checked","onChange"])):(0,r.R1)(J)["item"]?(0,n.RG)(e.$slots,"item",(0,s._B)((0,n.v6)({key:4},{column:l,item:t})),void 0,!0):((0,n.uX)(),(0,n.CE)(n.FK,{key:5},[(0,n.eW)((0,s.v_)((0,r.R1)(pe)(l,t)),1)],64))],14,Ce)))),128))],42,Pe),(0,r.R1)(Z)&&(0,r.R1)(ut).includes(a+(0,r.R1)(ot))?((0,n.uX)(),(0,n.CE)("tr",{key:0,class:(0,s.C4)([{"even-row":(a+1)%2===0},"string"===typeof e.bodyExpandRowClassName?e.bodyExpandRowClassName:e.bodyExpandRowClassName(t,a+1)])},[(0,n.Lk)("td",{colspan:(0,r.R1)(Oe).length,class:"expand"},[t.expandLoading?((0,n.uX)(),(0,n.Wv)(K,{key:0,class:"expand-loading"})):(0,n.Q3)("",!0),(0,n.RG)(e.$slots,"expand",(0,s._B)((0,n.Ng)(t)),void 0,!0)],8,Re)],2)):(0,n.Q3)("",!0)],64)))),128)),(0,n.RG)(e.$slots,"body-append",(0,s._B)((0,n.Ng)({items:(0,r.R1)(st),pagination:{isFirstPage:(0,r.R1)(Ye),isLastPage:(0,r.R1)(Ue),currentPaginationNumber:(0,r.R1)(Je),maxPaginationNumber:(0,r.R1)(ze),nextPage:(0,r.R1)(Ze),prevPage:(0,r.R1)(et),updatePage:(0,r.R1)(tt)},headers:(0,r.R1)(Oe)})),void 0,!0)],2)):(0,n.Q3)("",!0)],8,fe),(0,r.R1)(w)?((0,n.uX)(),(0,n.CE)("div",ke,[we,(0,n.Lk)("div",Ne,[(0,r.R1)(Y)?(0,n.RG)(e.$slots,"loading",{key:0},void 0,!0):((0,n.uX)(),(0,n.Wv)(Q,{key:1}))])])):(0,n.Q3)("",!0),(0,r.R1)(st).length||(0,r.R1)(w)?(0,n.Q3)("",!0):((0,n.uX)(),(0,n.CE)("div",Ee,[(0,n.RG)(e.$slots,"empty-message",{},(()=>[(0,n.eW)((0,s.v_)(e.emptyMessage),1)]),!0)]))],2),e.hideFooter?(0,n.Q3)("",!0):((0,n.uX)(),(0,n.CE)("div",_e,[e.hideRowsPerPage?(0,n.Q3)("",!0):((0,n.uX)(),(0,n.CE)("div",Se,[(0,n.eW)((0,s.v_)(e.rowsPerPageMessage)+" ",1),(0,n.bF)(W,{modelValue:(0,r.R1)(De),"onUpdate:modelValue":t[0]||(t[0]=e=>(0,r.i9)(De)?De.value=e:null),"rows-items":(0,r.R1)(je)},null,8,["modelValue","rows-items"])])),(0,n.Lk)("div",Ie,(0,s.v_)(`${(0,r.R1)(nt)}–${(0,r.R1)(lt)}`)+" "+(0,s.v_)((0,r.R1)(D))+" "+(0,s.v_)((0,r.R1)(Ke)),1),(0,r.R1)(U)?(0,n.RG)(e.$slots,"pagination",(0,s._B)((0,n.v6)({key:1},{isFirstPage:(0,r.R1)(Ye),isLastPage:(0,r.R1)(Ue),currentPaginationNumber:(0,r.R1)(Je),maxPaginationNumber:(0,r.R1)(ze),nextPage:(0,r.R1)(Ze),prevPage:(0,r.R1)(et)})),void 0,!0):((0,n.uX)(),(0,n.Wv)(ne,{key:2,"is-first-page":(0,r.R1)(Ye),"is-last-page":(0,r.R1)(Ue),onClickNextPage:(0,r.R1)(Ze),onClickPrevPage:(0,r.R1)(et)},(0,n.eX)({_:2},[e.buttonsPagination?{name:"buttonsPagination",fn:(0,n.k6)((()=>[(0,n.bF)(z,{"current-pagination-number":(0,r.R1)(Je),"max-pagination-number":(0,r.R1)(ze),onUpdatePage:(0,r.R1)(tt)},null,8,["current-pagination-number","max-pagination-number","onUpdatePage"])])),key:"0"}:void 0]),1032,["is-first-page","is-last-page","onClickNextPage","onClickPrevPage"]))]))],2))}});var Ae=y(Be,[["__scopeId","data-v-32683533"]]);"undefined"!==typeof window&&window.Vue&&window.Vue.createApp({}).component("Vue3EasyDataTable",Ae)}}]);
//# sourceMappingURL=100.b71918ee.js.map